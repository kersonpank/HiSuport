{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import CloseIcon from\"@material-ui/icons/Close\";import Drawer from\"@material-ui/core/Drawer\";import Link from\"@material-ui/core/Link\";import InputLabel from\"@material-ui/core/InputLabel\";import Avatar from\"@material-ui/core/Avatar\";import Button from\"@material-ui/core/Button\";import Paper from\"@material-ui/core/Paper\";import CreateIcon from'@material-ui/icons/Create';import{i18n}from\"../../translate/i18n\";import ContactDrawerSkeleton from\"../ContactDrawerSkeleton\";import MarkdownWrapper from\"../MarkdownWrapper\";import{CardHeader}from\"@material-ui/core\";import{ContactForm}from\"../ContactForm\";import ContactModal from\"../ContactModal\";import{ContactNotes}from\"../ContactNotes\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const drawerWidth=320;const useStyles=makeStyles(theme=>({drawer:{width:drawerWidth,flexShrink:0},drawerPaper:{width:drawerWidth,display:\"flex\",borderTop:\"1px solid rgba(0, 0, 0, 0.12)\",borderRight:\"1px solid rgba(0, 0, 0, 0.12)\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:\"flex\",borderBottom:\"1px solid rgba(0, 0, 0, 0.12)\",backgroundColor:theme.palette.contactdrawer,//DARK MODE PLW DESIGN//\nalignItems:\"center\",padding:theme.spacing(0,1),minHeight:\"73px\",justifyContent:\"flex-start\"},content:{display:\"flex\",backgroundColor:theme.palette.contactdrawer,//DARK MODE PLW DESIGN//\nflexDirection:\"column\",padding:\"8px 0px 8px 8px\",height:\"100%\",overflowY:\"scroll\",...theme.scrollbarStyles},contactAvatar:{margin:15,width:100,height:100},contactHeader:{display:\"flex\",padding:8,flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",\"& > *\":{margin:4}},contactDetails:{marginTop:8,padding:8,display:\"flex\",flexDirection:\"column\"},contactExtraInfo:{marginTop:4,padding:6}}));const ContactDrawer=_ref=>{var _contact$extraInfo;let{open,handleDrawerClose,contact,ticket,loading}=_ref;const classes=useStyles();const[modalOpen,setModalOpen]=useState(false);const[openForm,setOpenForm]=useState(false);useEffect(()=>{setOpenForm(false);},[open,contact]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Drawer,{className:classes.drawer,variant:\"persistent\",anchor:\"right\",open:open,PaperProps:{style:{position:\"absolute\"}},BackdropProps:{style:{position:\"absolute\"}},ModalProps:{container:document.getElementById(\"drawer-container\"),style:{position:\"absolute\"}},classes:{paper:classes.drawerPaper},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.header,children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerClose,children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsx(Typography,{style:{justifySelf:\"center\"},children:i18n.t(\"contactDrawer.header\")})]}),loading?/*#__PURE__*/_jsx(ContactDrawerSkeleton,{classes:classes}):/*#__PURE__*/_jsxs(\"div\",{className:classes.content,children:[/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactHeader,children:[/*#__PURE__*/_jsx(CardHeader,{onClick:()=>{},style:{cursor:\"pointer\",width:'100%'},titleTypographyProps:{noWrap:true},subheaderTypographyProps:{noWrap:true},avatar:/*#__PURE__*/_jsx(Avatar,{src:contact.profilePicUrl,alt:\"contact_image\",style:{width:60,height:60}}),title:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Typography,{onClick:()=>setOpenForm(true),children:[contact.name,/*#__PURE__*/_jsx(CreateIcon,{style:{fontSize:16,marginLeft:5}})]})}),subheader:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{style:{fontSize:12},children:/*#__PURE__*/_jsx(Link,{href:\"tel:\".concat(contact.number),children:contact.number})}),/*#__PURE__*/_jsx(Typography,{style:{fontSize:12},children:/*#__PURE__*/_jsx(Link,{href:\"mailto:\".concat(contact.email),children:contact.email})})]})}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",onClick:()=>setModalOpen(!openForm),style:{fontSize:12},children:i18n.t(\"contactDrawer.buttons.edit\")}),contact.id&&openForm&&/*#__PURE__*/_jsx(ContactForm,{initialContact:contact,onCancel:()=>setOpenForm(false)})]}),/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{marginBottom:10},children:i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}),/*#__PURE__*/_jsx(ContactNotes,{ticket:ticket})]}),/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactDetails,children:[/*#__PURE__*/_jsx(ContactModal,{open:modalOpen,onClose:()=>setModalOpen(false),contactId:contact.id}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:i18n.t(\"contactDrawer.extraInfo\")}),contact===null||contact===void 0?void 0:(_contact$extraInfo=contact.extraInfo)===null||_contact$extraInfo===void 0?void 0:_contact$extraInfo.map(info=>/*#__PURE__*/_jsxs(Paper,{square:true,variant:\"outlined\",className:classes.contactExtraInfo,children:[/*#__PURE__*/_jsx(InputLabel,{children:info.name}),/*#__PURE__*/_jsx(Typography,{component:\"div\",noWrap:true,style:{paddingTop:2},children:/*#__PURE__*/_jsx(MarkdownWrapper,{children:info.value})})]},info.id))]})]})]})});};export default ContactDrawer;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}