{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Grid from\"@material-ui/core/Grid\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import InputLabel from\"@material-ui/core/InputLabel\";import Select from\"@material-ui/core/Select\";import FormHelperText from\"@material-ui/core/FormHelperText\";import TextField from\"@material-ui/core/TextField\";import Title from\"../Title\";import Paper from\"@material-ui/core/Paper\";import Typography from\"@material-ui/core/Typography\";import useSettings from\"../../hooks/useSettings\";import{ToastContainer,toast}from'react-toastify';import{makeStyles}from\"@material-ui/core/styles\";import{grey,blue}from\"@material-ui/core/colors\";import{Tabs,Tab}from\"@material-ui/core\";//import 'react-toastify/dist/ReactToastify.css';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const useStyles=makeStyles(theme=>({container:{paddingTop:theme.spacing(4),paddingBottom:theme.spacing(4)},fixedHeightPaper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",height:240},tab:{backgroundColor:theme.palette.options,//DARK MODE PLW DESIGN//\nborderRadius:4,width:\"100%\",\"& .MuiTab-wrapper\":{color:theme.palette.fontecor},//DARK MODE PLW DESIGN//\n\"& .MuiTabs-flexContainer\":{justifyContent:\"center\"}},paper:{padding:theme.spacing(2),display:\"flex\",alignItems:\"center\",marginBottom:12,width:\"100%\"},cardAvatar:{fontSize:\"55px\",color:grey[500],backgroundColor:\"#ffffff\",width:theme.spacing(7),height:theme.spacing(7)},cardTitle:{fontSize:\"18px\",color:blue[700]},cardSubtitle:{color:grey[600],fontSize:\"14px\"},alignRight:{textAlign:\"right\"},fullWidth:{width:\"100%\"},selectContainer:{width:\"100%\",textAlign:\"left\"}}));export default function Options(props){const{settings,scheduleTypeChanged}=props;const classes=useStyles();const[userRating,setUserRating]=useState(\"disabled\");const[scheduleType,setScheduleType]=useState(\"disabled\");const[callType,setCallType]=useState(\"enabled\");const[chatbotType,setChatbotType]=useState(\"\");const[CheckMsgIsGroup,setCheckMsgIsGroupType]=useState(\"enabled\");const[loadingUserRating,setLoadingUserRating]=useState(false);const[loadingScheduleType,setLoadingScheduleType]=useState(false);const[loadingCallType,setLoadingCallType]=useState(false);const[loadingChatbotType,setLoadingChatbotType]=useState(false);const[loadingCheckMsgIsGroup,setCheckMsgIsGroup]=useState(false);const[ipixcType,setIpIxcType]=useState(\"\");const[loadingIpIxcType,setLoadingIpIxcType]=useState(false);const[tokenixcType,setTokenIxcType]=useState(\"\");const[loadingTokenIxcType,setLoadingTokenIxcType]=useState(false);const[ipmkauthType,setIpMkauthType]=useState(\"\");const[loadingIpMkauthType,setLoadingIpMkauthType]=useState(false);const[clientidmkauthType,setClientIdMkauthType]=useState(\"\");const[loadingClientIdMkauthType,setLoadingClientIdMkauthType]=useState(false);const[clientsecretmkauthType,setClientSecrectMkauthType]=useState(\"\");const[loadingClientSecrectMkauthType,setLoadingClientSecrectMkauthType]=useState(false);const[asaasType,setAsaasType]=useState(\"\");const[loadingAsaasType,setLoadingAsaasType]=useState(false);// recursos a mais da plw design\nconst[SendGreetingAccepted,setSendGreetingAccepted]=useState(\"disabled\");const[loadingSendGreetingAccepted,setLoadingSendGreetingAccepted]=useState(false);const[SettingsTransfTicket,setSettingsTransfTicket]=useState(\"disabled\");const[loadingSettingsTransfTicket,setLoadingSettingsTransfTicket]=useState(false);const{update}=useSettings();useEffect(()=>{if(Array.isArray(settings)&&settings.length){const userRating=settings.find(s=>s.key===\"userRating\");if(userRating){setUserRating(userRating.value);}const scheduleType=settings.find(s=>s.key===\"scheduleType\");if(scheduleType){setScheduleType(scheduleType.value);}const callType=settings.find(s=>s.key===\"call\");if(callType){setCallType(callType.value);}const CheckMsgIsGroup=settings.find(s=>s.key===\"CheckMsgIsGroup\");if(CheckMsgIsGroup){setCheckMsgIsGroupType(CheckMsgIsGroup.value);}{/*PLW DESIGN SAUDAÇÃO*/}const SendGreetingAccepted=settings.find(s=>s.key===\"sendGreetingAccepted\");if(SendGreetingAccepted){setSendGreetingAccepted(SendGreetingAccepted.value);}{/*PLW DESIGN SAUDAÇÃO*/}{/*TRANSFERIR TICKET*/}const SettingsTransfTicket=settings.find(s=>s.key===\"sendMsgTransfTicket\");if(SettingsTransfTicket){setSettingsTransfTicket(SettingsTransfTicket.value);}{/*TRANSFERIR TICKET*/}const chatbotType=settings.find(s=>s.key===\"chatBotType\");if(chatbotType){setChatbotType(chatbotType.value);}const ipixcType=settings.find(s=>s.key===\"ipixc\");if(ipixcType){setIpIxcType(ipixcType.value);}const tokenixcType=settings.find(s=>s.key===\"tokenixc\");if(tokenixcType){setTokenIxcType(tokenixcType.value);}const ipmkauthType=settings.find(s=>s.key===\"ipmkauth\");if(ipmkauthType){setIpMkauthType(ipmkauthType.value);}const clientidmkauthType=settings.find(s=>s.key===\"clientidmkauth\");if(clientidmkauthType){setClientIdMkauthType(clientidmkauthType.value);}const clientsecretmkauthType=settings.find(s=>s.key===\"clientsecretmkauth\");if(clientsecretmkauthType){setClientSecrectMkauthType(clientsecretmkauthType.value);}const asaasType=settings.find(s=>s.key===\"asaas\");if(asaasType){setAsaasType(asaasType.value);}}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[settings]);async function handleChangeUserRating(value){setUserRating(value);setLoadingUserRating(true);await update({key:\"userRating\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingUserRating(false);}async function handleScheduleType(value){setScheduleType(value);setLoadingScheduleType(true);await update({key:\"scheduleType\",value});//toast.success(\"Oraçãpeo atualizada com sucesso.\");\ntoast.success('Operação atualizada com sucesso.',{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:false,draggable:true,theme:\"light\"});setLoadingScheduleType(false);if(typeof scheduleTypeChanged===\"function\"){scheduleTypeChanged(value);}}async function handleCallType(value){setCallType(value);setLoadingCallType(true);await update({key:\"call\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingCallType(false);}async function handleChatbotType(value){setChatbotType(value);setLoadingChatbotType(true);await update({key:\"chatBotType\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingChatbotType(false);}async function handleGroupType(value){setCheckMsgIsGroupType(value);setCheckMsgIsGroup(true);await update({key:\"CheckMsgIsGroup\",value});toast.success(\"Operação atualizada com sucesso.\");setCheckMsgIsGroup(false);/*     if (typeof scheduleTypeChanged === \"function\") {\n          scheduleTypeChanged(value);\n        } */}{/*NOVO CÓDIGO*/}async function handleSendGreetingAccepted(value){setSendGreetingAccepted(value);setLoadingSendGreetingAccepted(true);await update({key:\"sendGreetingAccepted\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingSendGreetingAccepted(false);}async function handleSettingsTransfTicket(value){setSettingsTransfTicket(value);setLoadingSettingsTransfTicket(true);await update({key:\"sendMsgTransfTicket\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingSettingsTransfTicket(false);}{/*NOVO CÓDIGO*/}async function handleSettingsTransfTicket(value){setSettingsTransfTicket(value);setLoadingSettingsTransfTicket(true);await update({key:\"sendMsgTransfTicket\",value});setLoadingSettingsTransfTicket(false);}async function handleChangeIPIxc(value){setIpIxcType(value);setLoadingIpIxcType(true);await update({key:\"ipixc\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingIpIxcType(false);}async function handleChangeTokenIxc(value){setTokenIxcType(value);setLoadingTokenIxcType(true);await update({key:\"tokenixc\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingTokenIxcType(false);}async function handleChangeIpMkauth(value){setIpMkauthType(value);setLoadingIpMkauthType(true);await update({key:\"ipmkauth\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingIpMkauthType(false);}async function handleChangeClientIdMkauth(value){setClientIdMkauthType(value);setLoadingClientIdMkauthType(true);await update({key:\"clientidmkauth\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingClientIdMkauthType(false);}async function handleChangeClientSecrectMkauth(value){setClientSecrectMkauthType(value);setLoadingClientSecrectMkauthType(true);await update({key:\"clientsecretmkauth\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingClientSecrectMkauthType(false);}async function handleChangeAsaas(value){setAsaasType(value);setLoadingAsaasType(true);await update({key:\"asaas\",value});toast.success(\"Operação atualizada com sucesso.\");setLoadingAsaasType(false);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{spacing:3,container:true,children:[/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"ratings-label\",children:\"Avalia\\xE7\\xF5es\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"ratings-label\",value:userRating,onChange:async e=>{handleChangeUserRating(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:\"Desabilitadas\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:\"Habilitadas\"})]}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingUserRating&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"schedule-type-label\",children:\"Gerenciamento de Expediente\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"schedule-type-label\",value:scheduleType,onChange:async e=>{handleScheduleType(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:\"Desabilitado\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"queue\",children:\"Gerenciamento Por Fila\"})]}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingScheduleType&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"group-type-label\",children:\"Ignorar Mensagens de Grupos\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"group-type-label\",value:CheckMsgIsGroup,onChange:async e=>{handleGroupType(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:\"Desativado\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:\"Ativado\"})]}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingScheduleType&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"call-type-label\",children:\"Aceitar Chamada\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"call-type-label\",value:callType,onChange:async e=>{handleCallType(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:\"N\\xE3o Aceitar\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:\"Aceitar\"})]}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingCallType&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"chatbot-type-label\",children:\"Tipo Chatbot\"}),/*#__PURE__*/_jsx(Select,{labelId:\"chatbot-type-label\",value:chatbotType,onChange:async e=>{handleChatbotType(e.target.value);},children:/*#__PURE__*/_jsx(MenuItem,{value:\"text\",children:\"Texto\"})}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingChatbotType&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"sendGreetingAccepted-label\",children:\"Enviar sauda\\xE7\\xE3o ao aceitar o ticket\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"sendGreetingAccepted-label\",value:SendGreetingAccepted,onChange:async e=>{handleSendGreetingAccepted(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:\"Desabilitado\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:\"Habilitado\"})]}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingSendGreetingAccepted&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"sendMsgTransfTicket-label\",children:\"Enviar mensagem de transferencia de Fila/agente\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"sendMsgTransfTicket-label\",value:SettingsTransfTicket,onChange:async e=>{handleSettingsTransfTicket(e.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"disabled\",children:\"Desabilitado\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"enabled\",children:\"Habilitado\"})]}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingSettingsTransfTicket&&\"Atualizando...\"})]})})]}),/*#__PURE__*/_jsx(Grid,{spacing:3,container:true,children:/*#__PURE__*/_jsx(Tabs,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:classes.tab,style:{marginBottom:20,marginTop:20},children:/*#__PURE__*/_jsx(Tab,{label:\"INTEGRA\\xC7\\xD5ES\"})})}),/*#__PURE__*/_jsxs(Grid,{spacing:3,container:true,style:{marginBottom:10},children:[/*#__PURE__*/_jsx(Tabs,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:classes.tab,children:/*#__PURE__*/_jsx(Tab,{label:\"IXC\"})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:6,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(TextField,{id:\"ipixc\",name:\"ipixc\",margin:\"dense\",label:\"IP do IXC\",variant:\"outlined\",value:ipixcType,onChange:async e=>{handleChangeIPIxc(e.target.value);}}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingIpIxcType&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:6,md:6,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(TextField,{id:\"tokenixc\",name:\"tokenixc\",margin:\"dense\",label:\"Token do IXC\",variant:\"outlined\",value:tokenixcType,onChange:async e=>{handleChangeTokenIxc(e.target.value);}}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingTokenIxcType&&\"Atualizando...\"})]})})]}),/*#__PURE__*/_jsxs(Grid,{spacing:3,container:true,style:{marginBottom:10},children:[/*#__PURE__*/_jsx(Tabs,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:classes.tab,children:/*#__PURE__*/_jsx(Tab,{label:\"MK-AUTH\"})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:12,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(TextField,{id:\"ipmkauth\",name:\"ipmkauth\",margin:\"dense\",label:\"Ip Mk-Auth\",variant:\"outlined\",value:ipmkauthType,onChange:async e=>{handleChangeIpMkauth(e.target.value);}}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingIpMkauthType&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:12,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(TextField,{id:\"clientidmkauth\",name:\"clientidmkauth\",margin:\"dense\",label:\"Client Id\",variant:\"outlined\",value:clientidmkauthType,onChange:async e=>{handleChangeClientIdMkauth(e.target.value);}}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingClientIdMkauthType&&\"Atualizando...\"})]})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:12,md:4,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(TextField,{id:\"clientsecretmkauth\",name:\"clientsecretmkauth\",margin:\"dense\",label:\"Client Secret\",variant:\"outlined\",value:clientsecretmkauthType,onChange:async e=>{handleChangeClientSecrectMkauth(e.target.value);}}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingClientSecrectMkauthType&&\"Atualizando...\"})]})})]}),/*#__PURE__*/_jsxs(Grid,{spacing:3,container:true,style:{marginBottom:10},children:[/*#__PURE__*/_jsx(Tabs,{indicatorColor:\"primary\",textColor:\"primary\",scrollButtons:\"on\",variant:\"scrollable\",className:classes.tab,children:/*#__PURE__*/_jsx(Tab,{label:\"ASAAS\"})}),/*#__PURE__*/_jsx(Grid,{xs:12,sm:12,md:12,item:true,children:/*#__PURE__*/_jsxs(FormControl,{className:classes.selectContainer,children:[/*#__PURE__*/_jsx(TextField,{id:\"asaas\",name:\"asaas\",margin:\"dense\",label:\"Token Asaas\",variant:\"outlined\",value:asaasType,onChange:async e=>{handleChangeAsaas(e.target.value);}}),/*#__PURE__*/_jsx(FormHelperText,{children:loadingAsaasType&&\"Atualizando...\"})]})})]})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}